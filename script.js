// قائمة الأسئلة والإجابات مع الكلمات المفتاحية
const responses = [
  // الأسئلة المتعلقة بالمنصة
  {
    keywords: ['السمة', 'الهوية الرقمية', 'الهويه', 'المنصه', 'المنصة', 'التطبيق', 'الهوية الرقمية'],
    response: "السّمْة هي هوية رقمية شاملة لكل فرد في سلطنة عمان، تتيح له الوصول إلى جميع الخدمات الحكومية والخاصة عبر تطبيق واحد. توفر المنصة إمكانية الدخول الموحد، التوقيع الإلكتروني، والتكامل بين مختلف القطاعات مثل الصحة والتعليم والبنوك."
  },
  {
    keywords: ['كيف تعمل', 'يعمل', 'أستخدام', 'المعاملات الحكومية'],
    response: "الهوية الرقمية تعمل كوسيلة لتسجيل الدخول إلى الخدمات الحكومية والخاصة باستخدام بياناتك الشخصية الموثوقة. يتيح لك التطبيق إمكانية الوصول بسهولة إلى الخدمات، بالإضافة إلى استخدام التوقيع الإلكتروني والقيام بالمعاملات بشكل آمن. يمكنك استخدام الهوية الرقمية للقيام بالمعاملات الحكومية مثل التقديم على المعاملات، إضافة إلى الوصول إلى السجل الصحي وحجز المواعيد في المستشفيات."
  },
  {
    keywords: ['من يمكنه استخدام', 'الفئة', 'المؤسسات الحكومية', 'الطلاب', 'المقيمين'],
    response: "الهوية الرقمية متاحة لجميع أفراد المجتمع العماني والمقيمين، بما في ذلك الطلاب، الموظفون، المؤسسات الحكومية، الجامعات والمدارس، والمستشفيات."
  },
  {
    keywords: ['الهوية الوطنية', 'البطاقة الشخصية', 'استخدام الإلكتروني'],
    response: "الهوية الوطنية العمانية هي هوية شخصية تُستخدم للأغراض التعريفية فقط، بينما الهوية الرقمية هي وسيلة شاملة للوصول إلى جميع الخدمات الحكومية والخاصة من خلال تطبيق واحد، مما يسهل العمليات اليومية."
  },
  {
    keywords: ['هل هناك رسوم', 'مجاني', 'مجانا', 'رسوم', 'تكاليف', 'مجاناً'],
    response: "لا، استخدام السّمْة مجاني للمستخدمين. الهدف هو تسهيل الوصول إلى الخدمات وتقديم تجربة رقمية موحدة وآمنة دون تحميل المستخدمين أي تكاليف إضافية."
  },

  // أسئلة التحية
  {
    keywords: ['مرحبا', 'اهلا', 'مرحبًا', 'مرحباً', 'اهلاً', 'أهلًا'],
    response: "أهلًا وسهلًا! كيف أستطيع مساعدتك اليوم؟"
  },
  {
    keywords: ['كيف الحال', 'كيف حالك'],
    response: "أنا بخير، شكرًا لسؤالك! كيف حالك أنت؟"
  },
  {
    keywords: ['ما أسمك', 'ما اسمك', 'من أنت'],
    response: "أنا المساعد الذكي! كيف يمكنني مساعدتك اليوم؟"
  },

  // الأسئلة حول الأمان
  {
    keywords: ['حماية', 'البيانات', 'حمايه', 'بياناتي', 'الأمان', 'التشفير', 'سرية المعلومات'],
    response: "تستخدم السّمْة تقنيات تشفير متقدمة لحماية بيانات المستخدمين، وتضمن سرية المعلومات من خلال استخدام أطر أمان صارمة مثل المصادقة الثنائية والتوثيق الآمن."
  },
  {
    keywords: ['التحقق', 'تحقق', 'المصادقه', 'المصادقة', 'التوقيع '],
    response: "يتم التحقق من هويتك عبر المصادقة الثنائية أو من خلال إرسال رمز تحقق إلى هاتفك المحمول أو بريدك الإلكتروني، بالإضافة إلى استخدام التوقيع الإلكتروني في بعض المعاملات."
  },
  {
    keywords: ['استعادة الحساب', 'استرجاع', 'كلمة المرور'],
    response: "يمكنك استعادة حسابك بسهولة عبر خطوات استرجاع الحساب المتاحة في التطبيق، مثل استلام رمز التفعيل على هاتفك أو بريدك الإلكتروني لإعادة تعيين كلمة المرور."
  },

  // الأسئلة حول التسجيل والخدمات
  {
    keywords: ['تسجيل', 'اشتراك', 'إشترك', 'الإشتراك', 'التسجيل في السمة', 'الاشتراك'],
    response: "يمكنك التسجيل في السّمْة عن طريق تحميل التطبيق، ثم إدخال بياناتك الشخصية للتحقق من هويتك. بعد التأكد من صحة البيانات، سيتم تفعيل حسابك."
  },
  {
    keywords: ['تحديث', 'تعديل', 'السجل الشخصي'],
    response: "نعم، يمكنك تحديث بياناتك الشخصية مثل العنوان، رقم الهاتف، أو البريد الإلكتروني عبر التطبيق في أي وقت."
  },
  {
    keywords: ['خدمات', 'الخدمات', 'السجل الصحي', 'المعاملات'],
    response: "يمكنك الوصول إلى مجموعة واسعة من الخدمات عبر السّمْة، بما في ذلك الخدمات الحكومية، السجل الصحي، البيانات التعليمية، المعاملات البنكية، حجز المواعيد، والمشاركة في الأنشطة المجتمعية."
  },

  // أسئلة متعلقة بالتوسع والتعاون
  {
    keywords: ['خدمات جديدة', 'التوسع', 'المستقبل', 'التوسع المستقبلي', 'النقل العام', 'التجارة الإلكترونية'],
    response: "نعم، في المستقبل، من المتوقع أن تشمل السّمْة خدمات إضافية مثل النقل العام، التجارة الإلكترونية، والخدمات الأخرى التي تدعم المجتمع العماني. أيضا السّمْة تخطط لتوسيع خدماتها في المستقبل لتشمل مزيد من القطاعات مثل النقل، التجارة الإلكترونية، بالإضافة إلى تطوير المزيد من خدمات الحكومة الذكية."
  },
  {
    keywords: ['التعاون بين القطاعات', 'المؤسسات الحكومية', 'القطاع الخاص'],
    response: "نعم، السّمْة تعمل على التعاون مع جميع المؤسسات الحكومية والخاصة في عمان لتوفير خدمات متكاملة وسهلة للمواطنين والمقيمين."
  },
  {
    keywords: ['البنك', 'الدفع عبر السّمْة'],
    response: "نعم، يمكن للمستخدمين القيام بالمعاملات البنكية مثل دفع الفواتير، التحويلات المالية، واستعراض الحسابات عبر السّمْة."
  },

  // الأسئلة حول رؤية عمان 2040
  {
    keywords: ['رؤية عمان 2040', 'الرؤية', 'الرؤيه', '2040', 'التحول الرقمي', 'التمكين المجتمعي'],
    response: "السّمْة تدعم رؤية عمان 2040 من خلال تسريع التحول الرقمي في الخدمات، توفير حلول ذكية، وتقليل الإجراءات الورقية، مما يساهم في تحسين حياة المواطنين والمقيمين."
  },
  {
    keywords: ['الأمان', 'أمان', 'الامان', 'امان', 'المعاملات الرقمية', 'التشفير'],
    response: "السّمْة تستخدم تقنيات أمان متقدمة مثل التشفير، المصادقة الثنائية، وحماية البيانات لضمان أمان المعاملات الرقمية والحفاظ على سرية المعلومات الشخصية."
  },

  // الأسئلة المتعلقة بالأنشطة المجتمعية والطوابير
  {
    keywords: ['الورقية', 'الورقيه', 'الطوابير', 'الخدمات الإلكترونية'],
    response: "من خلال تقديم جميع الخدمات عبر التطبيق، يمكن تقليل الحاجة للمعاملات الورقية والطوابير في المؤسسات الحكومية، مما يوفر الوقت ويزيد من الكفاءة."
  },

  // الأسئلة حول التسجيل الطلابي والخدمات المدرسية
  {
    keywords: ['الطلاب', 'الأكاديمي', 'التعليم'],
    response: "نعم، الطلاب يمكنهم التسجيل في السّمْة للاستفادة من الخدمات التعليمية والسجل الأكاديمي الخاص بهم."
  },

  // الأسئلة المتعلقة بالتكامل بين القطاعات
  {
    keywords: ['التكامل بين القطاعات', 'المؤسسات الحكومية', 'القطاع الخاص'],
    response: "نعم، السّمْة توفر خدمات مدمجة تربط بين القطاعات الحكومية والخاصة لتسهيل الوصول إليها بطريقة موحدة وآمنة."
  },

  // الأسئلة المتعلقة باللغات والتوسع الدولي
  {
    keywords: ['التعدد اللغوي', 'لغه', 'لغة', 'لغات', 'اللغات', 'التوسع المستقبلي'],
    response: "نعم، سيتم تطوير نسخ متعددة اللغات في المستقبل لتلبية احتياجات مختلف المستخدمين في عمان والمقيمين."
  },

  // الأسئلة المتعلقة بالدعم الفني
  {
    keywords: ['الدعم الفني', 'الأمان', 'الإبلاغ', 'ابلاغ', 'إبلاغ', 'مشكلة'],
    response: "إذا كنت تواجه أي مشكلة تتعلق بالأمان أو البيانات، يمكنك الإبلاغ عنها من خلال خدمة الدعم الفني المتوفرة عبر التطبيق أو الموقع الإلكتروني."
  },

  // الأسئلة المتعلقة بالتحول الرقمي
  {
    keywords: ['التحول الرقمي', 'التسريع', 'الأتمتة'],
    response: "السّمْة تساهم في تسريع التحول الرقمي من خلال توفير حلول مبتكرة تسهل الوصول إلى الخدمات الحكومية والخاصة وتوفر تجربة مستخدم حديثة."
  },
  {
    keywords: ['تسهيل', 'الاجراءات', 'الإجراءات', 'الخدمات الحكومية', 'إجراءات'],
    response: "السّمْة تسهل الإجراءات الحكومية من خلال تقديم جميع الخدمات في تطبيق واحد، مما يسمح للأفراد بتنفيذ المعاملات بسهولة ودون الحاجة للذهاب إلى المؤسسات."
  }
];

// دالة لمعالجة الأسئلة والبحث عن الإجابات
function getAnswer() {
    const input = document.getElementById("user-input");
    const chatBox = document.getElementById("chat-box");
    const userText = input.value.trim();

    if (userText === "") return;

    // رسالة المستخدم
    const userBubble = document.createElement("div");
    userBubble.className = "chat-bubble user";
    userBubble.textContent = userText;
    chatBox.appendChild(userBubble);

    input.value = "";
    chatBox.scrollTop = chatBox.scrollHeight;

    // رد النظام بعد تأخير بسيط
    setTimeout(() => {
        let reply = "يسعدنا مساعدتك، هل يمكنك توضيح سؤالك أكثر؟";

        responses.forEach(item => {
            item.keywords.forEach(word => {
                if (userText.includes(word)) {
                    reply = item.response;
                }
            });
        });

        const botBubble = document.createElement("div");
        botBubble.className = "chat-bubble bot";
        botBubble.textContent = reply;
        chatBox.appendChild(botBubble);

        chatBox.scrollTop = chatBox.scrollHeight;
    }, 600);
}